{"version":3,"sources":["components/Filter.js","components/Person.js","components/PersonForm.js","services/persons.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["Filter","filterValue","handleFilterValue","value","onChange","Person","person","removeName","name","number","onClick","PersonForm","addName","newName","handleNewName","newNumber","handleNewNumber","onSubmit","type","baseUrl","axios","get","then","response","data","catch","error","console","log","newObject","post","id","put","delete","Notification","message","className","Error","App","useState","persons","setPersons","setNewName","setNewNumber","setFilterValue","setMessage","setError","useEffect","personService","initialPersons","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","personObject","map","n","window","confirm","indexOf","returnedPerson","setTimeout","concat","i","key","find","p","removePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e846809d.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filterValue, handleFilterValue }) => {\r\n    return (\r\n        <div>\r\n        Filter shown with <input \r\n        value={filterValue}\r\n        onChange={handleFilterValue}\r\n        />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Person = ({ person, removeName }) => {\r\n    const label = 'remove'\r\n    return (\r\n        <li>\r\n        {person.name} {person.number}\r\n        <button onClick={removeName}>{label}</button>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst PersonForm = ({ addName, newName, handleNewName, newNumber, handleNewNumber }) => {\r\n    return (\r\n        <form onSubmit={addName}>\r\n        <div>\r\n          name: <input\r\n       value={newName} \r\n       onChange={handleNewName}\r\n       />\r\n        </div>\r\n        <div>\r\n          number: <input\r\n       value={newNumber} \r\n       onChange={handleNewNumber}\r\n       />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n  .catch(error => {\r\n    console.log('failed')\r\n  })\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\nconst getByName = (param) => {\r\n    const request = axios.get(baseUrl, param)\r\n    return request.then(response => response.data.name.includes())\r\n}\r\n\r\nexport default { \r\n  getAll, \r\n  create, \r\n  update,\r\n  remove,\r\n  getByName\r\n}","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"msg\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React from 'react'\r\n\r\nconst Error = ({ error }) => {\r\n    if (error === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"err\">\r\n        {error}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Error","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Person from './components/Person'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterValue, setFilterValue ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ error, setError ] = useState(null)\n\n  useEffect(() => {\n    personService\n  .getAll()\n  .then(initialPersons => {\n    setPersons(initialPersons)\n  })\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (!persons.map(n => n.name).includes(newName)) {\n      personService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setMessage(\n          `${newName} added `\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n        setNewName('')\n      })\n      .catch(error => {\n        console.log(error.response.data)\n        setError(error.response.data.error)\n        setTimeout(() => {\n          setError(null)\n        }, 5000)\n      })\n    } \n    else {\n      if (window.confirm(`${newName} exists, update number?`)) {\n\n      const id = persons.map(n => n.name).indexOf(newName)+1\n      console.log(id)\n      \n      personService\n      .update(id, personObject)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n      })\n      setMessage(\n        `${persons[id-1].name} updated`\n      )\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n      setNewName('')\n      setNewNumber('')\n    }\n    }\n  }\n\n  const removePerson = id => {\n    const url = `http://localhost:3001/persons/${id}`\n    const person = persons.find(p => p.id === id)\n\n    if (window.confirm(`Delete ${person.name}?`)) {\n    personService\n    .remove(id)\n    .then(returnedPerson => {\n      setPersons(persons.filter(n => n.id !== id))\n      setMessage(`${person.name} removed`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    })\n    .catch(error => {\n      setError(`${person.name} could not be removed`)\n      setTimeout(() => {\n        setError(null)\n      }, 5000)\n    })\n  }\n  }\n\n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(`${filterValue}`))\n\n  const handleNewName = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumber = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterValue = (event) => {\n    console.log(event.target.value)\n    setFilterValue(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Error error={error} />\n      <Notification message={message} />\n      <Filter filterValue={filterValue}\n      handleFilterValue={handleFilterValue} />\n      <div>\n        <h2>Add new</h2>\n      </div>\n      <PersonForm addName={addName}\n      newName={newName} handleNewName={handleNewName}\n      newNumber={newNumber} handleNewNumber={handleNewNumber}/>\n      <h2>Numbers</h2>\n      <ul>\n        {personsToShow.map((person, i) =>\n        <Person key={i} person={person}\n        removeName={() => removePerson(person.id)}/>\n        )}\n      </ul>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA"],"sourceRoot":""}